<!DOCTYPE html>
<html lang="nb-NO">
    <head>
        <meta charset="utf-8">
        <title>Web-Form</title>
        <link rel="stylesheet" href="stylesheet.css">

        <style>

            #slider{
                width: 33%;
                height: 7px;
                outline: none;
                border-radius: 3px;
            }

            .sliderdiv {
                display: flex;
                padding: 1%;
            }

            .sliderz {
                margin: 0 2% 0 2%;
            }

            .slidertxt {
                width: 90px;
            }

            .submitbutn {
                display: flex;
                justify-content: center;
                align-items: center;
                width: 100px;
                height: 25px;
                margin: 2%;
                border-radius: 5px;
                background-color: lightblue;
            }

            .submitbutn:hover {
                background-color: lightgray;
            }

            
        </style>
        
    </head>
    <body>
        <!--Navbar-->
        <div class="navdiv">
            <div>
                <p class="FS-title">Felles-Skapet</p>
            </div>
            <ul class="navbar">
                <li class="navbutton"> <a class="navlink" href="index.html">Forside</a> </li>
                <li class="navactive"> <a class="txtactive" href="web-form.html">Form</a> </li>
                <li class="navbutton"> <a class="navlink" href="web-rapport.html">Rapport</a> </li>
            </ul>
        </div>
        
        <div class="maincon">
            <form id="hwr">
                <h1>Registrer deg</h1>
                <!-- Top-form -->
                <div class="formdiv">
                    <!--Form der man skriver inn navnet sitt-->
                    <table class="formtab">
                        <tr>
                            <td>
                                <label for="fornavn">Fornavn:</label>
                            </td>
                            <td>
                                <input type="text" name="fornavn" id="fornavn" class='form-textinput' placeholder="Fornavn">
                            </td>
                            <td>
                                <label for="etternavn">Etternavn:</label>
                            </td>
                            <td>
                                <input type="text" name="etternavn" id="etternavn" class='form-textinput' placeholder="Etternavn">
                            </td>
                        </tr>
                    </table>

                    <!-- Slidere -->
                    <br>
                    <h3><label for="MNf">Er du en morgenfugl eller en natteravn?</label></h3>
                    <table class="sliders">
                        <tr>
                            <div class="sliderdiv">
                                <p class="slidertxt">Morgenfugl</p>
                                <input class="sliderz" name="MNf" type="range" min="0" max="100" value="50" id="slider"> 
                                <p class="slidertxt">Natteravn</p> 
                            </div>   
                        </tr>
                    </table>
                    <br>
                    <h3><label for="SoA">Foretrekker du samarbeid eller jobbe alene?</label></h3>
                    <table class="sliders">
                        <tr>
                            <div class="sliderdiv">
                                <p class="slidertxt">Samarbeid</p>
                                <input class="sliderz" name="SoA" type="range" min="0" max="100" value="50" id="slider"> 
                                <p class="slidertxt">Alene</p>
                            </div>    
                        </tr>
                    </table>
                    <br>
                    <h3><label for="BoP">Foretrekker du å høre bakhistorien eller komme rett til poenget?</label></h3>
                    <table class="sliders">
                        <tr>
                            <div class="sliderdiv">
                                <p class="slidertxt">Bakhistorien</p>
                                <input class="sliderz" name="BoP" type="range" min="0" max="100" value="50" id="slider"> 
                                <p class="slidertxt">Poenget</p>  
                            </div>  
                        </tr>
                    </table>
                    <br>
                    <h3><label for="SoV">Føler du behov for å snakke om ting eller å gå videre?</label></h3>
                    <table class="sliders">
                        <tr>
                            <div class="sliderdiv">
                                <p class="slidertxt">Snakke om ting</p>
                                <input class="sliderz" name="SoV" type="range" min="0" max="100" value="50" id="slider">  
                                <p class="slidertxt">Gå videre</p>
                            </div>   
                        </tr>
                    </table>
                    <br>
                    <h3><label for="SoT">Er du et snakkemenneske eller et tenkemenneske?</label></h3>
                    <table class="sliders">
                        <tr>
                            <div class="sliderdiv">
                                <p class="slidertxt">Snakkemenneske</p>
                                <input class="sliderz" name="SoT" type="range" min="0" max="100" value="50" id="slider">
                                <p class="slidertxt">Tenkemenneske</p>
                            </div>     
                        </tr>
                    </table>
                    <br>
                    <h3><label for="IoP">Foretrekker du en impulsiv hverdag eller planlagt hverdag?</label></h3>
                    <table class="sliders">
                        <tr>
                            <div class="sliderdiv">
                                <p class="slidertxt">Implusivt</p>
                                <input class="sliderz" name="IoP" type="range" min="0" max="100" value="50" id="slider">
                                <p class="slidertxt">Planlagt</p>
                            </div>     
                        </tr>
                    </table>
                    <br>
                    <h3><label for="ToR">Foretrekker du å motta tekstmelding eller å bli ringt?</label></h3>
                    <table class="sliders">
                        <tr>
                            <div class="sliderdiv">
                                <p class="slidertxt">Tekstmelding</p>
                                <input class="sliderz" name="ToR" type="range" min="0" max="100" value="50" id="slider">
                                <p class="slidertxt">Ringt</p>
                            </div>     
                        </tr>
                    </table>
                    <br>
                    <h3><label for="FoF">Foretrekker du fast- eller fleksibel arbeidstid?</label></h3>
                    <table class="sliders">
                        <tr>
                            <div class="sliderdiv">
                                <p class="slidertxt">Fast</p>
                                <input class="sliderz" name="FoF" type="range" min="0" max="100" value="50" id="slider"> 
                                <p class="slidertxt">Fleksibel</p>
                            </div>    
                        </tr>
                    </table>
                    <br>
                    <h3><label for="FoH">Foretrekker du fysisk oppmøte eller hjemmekontor?</label></h3>
                    <table class="sliders">
                        <tr>
                            <div class="sliderdiv">
                                <p class="slidertxt">Fysisk</p>
                                <input class="sliderz" name="FoH" type="range" min="0" max="100" value="50" id="slider"> 
                                <p class="slidertxt">Hjemmekontor</p>
                            </div>    
                        </tr>
                    </table>
                    <br>
                    <h3><label for="KoL">Er du en kreativ- eller logisk tenker?</label></h3>
                    <table class="sliders">
                        <tr>
                            <div class="sliderdiv">
                                <p class="slidertxt">Kreativ</p>
                                <input class="sliderz" name="KoL" type="range" min="0" max="100" value="50" id="slider"> 
                                <p class="slidertxt">Logisk</p>
                            </div>    
                        </tr>
                    </table>
                    <br>
                    <h3><label for="FoG">Foretrekker du å følge eller gi instruksjoner?</label></h3>
                    <table class="sliders">
                        <tr>
                            <div class="sliderdiv">
                                <p class="slidertxt">Følge</p>
                                <input class="sliderz" name="FoG" type="range" min="0" max="100" value="50" id="slider">  
                                <p class="slidertxt">Gi</p>
                            </div>   
                        </tr>
                    </table>
                    <br><br>
                    <!-- Submit-knapp -->
                    <div class="buttoncon">
                        <button class="submitbutn" type="submit">Submit</button>
                    </div>
                </div>

            </form>
            <br>
            <div class="results">
                <h3>Resultatene:</h3>
                <pre></pre>
            </div>
            
        </div>

        <script>
            // Hentet 03.11.22 fra https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch 
            // Example POST method implementation:
            async function postData(url = '', data = {}) {
            // Default options are marked with *
             const response = await fetch(url, {
            method: 'POST', // *GET, POST, PUT, DELETE, etc.
            mode: 'cors', // no-cors, *cors, same-origin
            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
            credentials: 'same-origin', // include, *same-origin, omit
            headers: {
            'Content-Type': 'application/json'
            // 'Content-Type': 'application/x-www-form-urlencoded',
        },
            redirect: 'follow', // manual, *follow, error
            referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
            body: JSON.stringify(data) // body data type must match "Content-Type" header
        });
            return response.json(); // parses JSON response into native JavaScript objects
        }

        function PostForm(event) {
            event.preventDefault();
            alert("Takk for at du registrerte deg!");
            const data = new FormData(event.target);
            const JSONdata = Object.fromEntries(data.entries());
            const results = document.querySelector('.results pre');
            postData('https://bacit.info', JSONdata)
        .then((data) => {
            console.log(data); // JSON data parsed by `data.json()` call
            results.innerText = JSON.stringify(data, null, 2);

            //må finne en måte å bruke localStorage med trxid-en og time-en
        });
    }

        const form = document.querySelector('form');
        form.addEventListener('submit', PostForm);
        //function PostForm() {
        //    alert("Bro")
        //}

        </script>
       
    </body>
</html>